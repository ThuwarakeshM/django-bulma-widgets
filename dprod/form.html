{% load expertdb %}
<a href="javascript:document.querySelector('.modal').classList.remove('is-active');" class="modal-background"></a>
<form class="modal-card" action="{{request.get_full_path}}" method="post" {% if form.is_multipart %}
    enctype="multipart/form-data" {% endif %}>
    <header class="modal-card-head">
        <p class="modal-card-title">{{title}}</p>
        <a href="javascript:document.querySelector('.modal').classList.remove('is-active');" class="delete"
            aria-label="close"></a>
    </header>
    <section class="modal-card-body">

        {% csrf_token %}

        <!-- Non Field Error Rendering -->
        {% if form.non_field_errors %}
        {% for error in form.non_field_errors %}
        <p class="help is-danger">{{error}}</p>
        {% endfor %}
        {% endif %}



        {% for hidden in form.hidden_fields %}
        {{ hidden }}
        {% endfor %}
        {# Include the visible fields #}
        {% for field in form.visible_fields %}
        <div class="field">
            <div class="control">
                <label for="{{field.id_for_label}}" class="label">{{field.label}}</label>
                {{ field }}

                <!-- Field Errors -->
                {% if field.errors %}
                {% for error in field.errors %}
                <p class="help is-danger">{{error}}</p>
                {% endfor %}
                {% endif %}
            </div>
        </div>
        {% endfor %}
    </section>
    <footer class="modal-card-foot">
        <button class="button is-primary" style="width:100%;">Submit</button>
        <a href="javascript:document.querySelector('.modal').classList.remove('is-active');" class="button cancel-form"
            style="width:100%;">Cancel</a>
        </div>
    </footer>
</form>